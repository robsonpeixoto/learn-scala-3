pre-push:
  commands:
    compile:
      glob: "{*.scala,build.sbt}"
      run: sbt compile
pre-commit:
  commands:
    format-scala:
      glob: "{*.scala,build.sbt}"
      # hack: `sbt scalafmtOnly {staged_files}` is not working:
      # https://github.com/scalameta/sbt-scalafmt/issues/253
      run: sbt scalafmtAll && git add {staged_files}
